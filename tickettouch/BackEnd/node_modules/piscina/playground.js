// index.js
const Piscina = require('.')
const path = require('path')

async function main () {
  const pool = new Piscina({
    filename: path.resolve(__dirname, 'playground-worker.js')
  })

  try {
    const result = await pool.run({ type: process.argv[2] })
    console.log(result)
  } catch (e) {
    console.log(e.toString())
  }

  await pool.destroy()
}

main()
